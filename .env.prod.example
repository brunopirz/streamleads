# =============================================================================
# STREAMLEADS - CONFIGURAÇÃO DE PRODUÇÃO
# =============================================================================
# Este arquivo contém todas as variáveis de ambiente necessárias para
# executar o StreamLeads em produção. Copie para .env e configure os valores.

# =============================================================================
# AMBIENTE
# =============================================================================
ENVIRONMENT=production
DEBUG=False
LOG_LEVEL=INFO

# =============================================================================
# DOMÍNIO E SSL
# =============================================================================
# Domínio principal da aplicação
DOMAIN=streamleads.com

# Email para certificados SSL (Let's Encrypt)
ACME_EMAIL=admin@streamleads.com

# CORS Origins (separados por vírgula)
CORS_ORIGINS=https://streamleads.com,https://dashboard.streamleads.com,https://api.streamleads.com

# =============================================================================
# SEGURANÇA
# =============================================================================
# Chave secreta para JWT (gere uma chave forte)
SECRET_KEY=sua-chave-super-secreta-de-pelo-menos-32-caracteres

# Autenticação básica para Traefik Dashboard (user:password em base64)
# Gere com: echo $(htpasswd -nb admin password) | sed -e s/\$/\$\$/g
TRAEFIK_AUTH=admin:$$2y$$10$$exemplo

# =============================================================================
# BANCO DE DADOS POSTGRESQL
# =============================================================================
DB_HOST=db
DB_PORT=5432
DB_NAME=streamleads_prod
DB_USER=streamleads_user
DB_PASSWORD=senha-super-segura-do-banco

# URL completa do banco (será construída automaticamente)
DATABASE_URL=postgresql://streamleads_user:senha-super-segura-do-banco@db:5432/streamleads_prod

# =============================================================================
# REDIS
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=senha-super-segura-do-redis
REDIS_URL=redis://:senha-super-segura-do-redis@redis:6379/0

# =============================================================================
# API CONFIGURAÇÕES
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_TIMEOUT=300

# Rate Limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# EMAIL/SMTP
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@streamleads.com
SMTP_PASSWORD=senha-do-email
SMTP_TLS=True
SMTP_SSL=False

# Configurações de email
EMAIL_FROM=noreply@streamleads.com
EMAIL_FROM_NAME=StreamLeads

# =============================================================================
# CELERY (WORKERS)
# =============================================================================
CELERY_BROKER_URL=redis://:senha-super-segura-do-redis@redis:6379/0
CELERY_RESULT_BACKEND=redis://:senha-super-segura-do-redis@redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=America/Sao_Paulo
CELERY_ENABLE_UTC=True

# =============================================================================
# FLOWER (MONITORAMENTO CELERY)
# =============================================================================
FLOWER_USER=admin
FLOWER_PASSWORD=senha-flower
FLOWER_PORT=5555

# =============================================================================
# MONITORAMENTO
# =============================================================================
# Prometheus
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=senha-grafana
GRAFANA_PORT=3000

# =============================================================================
# INTEGRAÇÕES EXTERNAS
# =============================================================================
# n8n Webhook
N8N_ENABLED=True
N8N_WEBHOOK_URL=https://n8n.streamleads.com/webhook/streamleads
N8N_API_KEY=sua-api-key-n8n

# Zapier Webhook
ZAPIER_ENABLED=True
ZAPIER_WEBHOOK_URL=https://hooks.zapier.com/hooks/catch/123456/abcdef/

# Make.com (Integromat)
MAKE_ENABLED=False
MAKE_WEBHOOK_URL=https://hook.make.com/123456789

# WhatsApp Business API
WHATSAPP_ENABLED=False
WHATSAPP_TOKEN=seu-token-whatsapp
WHATSAPP_PHONE_ID=seu-phone-id
WHATSAPP_VERIFY_TOKEN=seu-verify-token

# =============================================================================
# ARMAZENAMENTO
# =============================================================================
# Uploads locais
UPLOADS_DIR=/app/uploads
MAX_UPLOAD_SIZE=10485760  # 10MB

# AWS S3 (opcional)
AWS_ENABLED=False
AWS_ACCESS_KEY_ID=sua-access-key
AWS_SECRET_ACCESS_KEY=sua-secret-key
AWS_BUCKET_NAME=streamleads-uploads
AWS_REGION=us-east-1

# =============================================================================
# BACKUP
# =============================================================================
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 2 * * *  # Todo dia às 2h
BACKUP_RETENTION_DAYS=30
BACKUP_S3_ENABLED=False
BACKUP_S3_BUCKET=streamleads-backups

# =============================================================================
# LOGGING
# =============================================================================
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Sentry (opcional)
SENTRY_ENABLED=False
SENTRY_DSN=https://sua-dsn@sentry.io/projeto
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# CACHE
# =============================================================================
CACHE_ENABLED=True
CACHE_TTL=3600  # 1 hora
CACHE_MAX_ENTRIES=10000

# =============================================================================
# STREAMLIT DASHBOARD
# =============================================================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=True
STREAMLIT_BROWSER_GATHER_USAGE_STATS=False
STREAMLIT_SERVER_ENABLE_CORS=False
STREAMLIT_SERVER_ENABLE_XSRF_PROTECTION=False

# URL da API para o dashboard
API_BASE_URL=https://api.streamleads.com

# =============================================================================
# RECURSOS E LIMITES
# =============================================================================
# Limites de memória (em MB)
API_MEMORY_LIMIT=512
DASHBOARD_MEMORY_LIMIT=512
WORKER_MEMORY_LIMIT=512
DB_MEMORY_LIMIT=1024
REDIS_MEMORY_LIMIT=256

# Limites de CPU (em cores)
API_CPU_LIMIT=1.0
DASHBOARD_CPU_LIMIT=0.5
WORKER_CPU_LIMIT=1.0

# =============================================================================
# HEALTH CHECKS
# =============================================================================
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# NOTIFICAÇÕES
# =============================================================================
# Slack
SLACK_ENABLED=False
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
SLACK_CHANNEL=#alerts

# Discord
DISCORD_ENABLED=False
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/123456789/abcdefghijklmnop

# Telegram
TELEGRAM_ENABLED=False
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=-123456789

# =============================================================================
# ANALYTICS
# =============================================================================
# Google Analytics
GA_ENABLED=False
GA_TRACKING_ID=UA-123456789-1

# Hotjar
HOTJAR_ENABLED=False
HOTJAR_ID=123456

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_SCORING_ML=True
FEATURE_AUTOMATION_ADVANCED=True
FEATURE_INTEGRATIONS=True
FEATURE_ANALYTICS=True
FEATURE_EXPORT=True
FEATURE_API_V2=False

# =============================================================================
# TIMEZONE E LOCALIZAÇÃO
# =============================================================================
TIMEZONE=America/Sao_Paulo
LOCALE=pt_BR.UTF-8
CURRENCY=BRL

# =============================================================================
# DESENVOLVIMENTO (APENAS PARA DEBUG)
# =============================================================================
# Estas variáveis devem ser False em produção
DEBUG_TOOLBAR=False
DEBUG_SQL=False
DEBUG_TEMPLATES=False
PROFILER_ENABLED=False

# =============================================================================
# DOCKER COMPOSE
# =============================================================================
# Estas variáveis são usadas pelo docker-compose.prod.yml
COMPOSE_PROJECT_NAME=streamleads
COMPOSE_FILE=docker-compose.prod.yml

# =============================================================================
# NOTAS IMPORTANTES
# =============================================================================
# 1. NUNCA commite este arquivo com valores reais no Git
# 2. Use senhas fortes para todas as configurações
# 3. Configure SSL/TLS para todas as conexões externas
# 4. Monitore logs e métricas regularmente
# 5. Faça backup regular do banco de dados
# 6. Mantenha as dependências atualizadas
# 7. Configure alertas para falhas críticas
# 8. Use secrets management em produção (Docker Secrets, Kubernetes Secrets, etc.)
# 9. Configure firewall e restrinja acesso aos serviços
# 10. Implemente rotação de senhas e chaves